<!doctype html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Parque de las Heliconias - Configuraci√≥n</title>

    <!-- CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" />
    
    <style>
       * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            }

            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                min-height: 100vh;
                display: flex;
                flex-direction: column;
                position: relative;
                overflow-y: auto;
                overflow-x: hidden;
            }
            
            body::before {
                content: '';
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: white; /* Fondo blanco */
                z-index: -1;
            }
            /* Header Styles */
            /* Header Styles */
            .header {
                background: linear-gradient(135deg, #ffffff, #ffffff);
                color: #2e7d32;
                padding: 15px 30px;
                box-shadow: 0 4px 15px rgba(0,0,0,0.1);
                position: sticky;
                top: 0;
                z-index: 100;
            }

            .top-section {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 15px;
            }

            .logo {
                display: flex;           /* Activar flexbox */
                align-items: center;     /* Centrar verticalmente el contenido */
                gap: 15px;               /* Espacio entre logo y t√≠tulo */
            }

            .logo-img {
                width: 50px;
                height: 50px;
                border-radius: 50%;
                background: white;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .logo-img i {
                display: block;
                width: 100%;
                height: 100%;
                background-image: url("img/logo.png"); /* Tu logo real */
                background-size: contain;
                background-repeat: no-repeat;
                background-position: center;
                font-size: 0; /* Oculta el √≠cono de fontawesome */
                color: transparent;
            }

            .logo h1 {
                font-size: 24px;
                font-weight: 700;
                margin: 0;
            }
            
            .top-bar {
                display: flex;
                justify-content: space-between; /* izquierda - derecha */
                align-items: center;            /* misma l√≠nea */
                width: 100%;
                margin-bottom: 10px;
                margin-top: 15px; 
            }

            .system-date {
                display: flex;
                margin-left: 20px;
                align-items: center;
                gap: 10px;
                font-weight: 500;
                color: #000000;
                background: rgba(255, 255, 255, 0.15); /* efecto cristal */
                padding: 10px 18px;
                border-radius: 25px;
                backdrop-filter: blur(6px);  /* efecto vidrio borroso */
                -webkit-backdrop-filter: blur(6px);
                box-shadow: 0 4px 12px rgba(0,0,0,0.25);
                font-size: 15px;
                letter-spacing: 0.5px;        /* m√°s elegante */
            }

            /* Navigation Styles */
            .nav-container {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding-top: 10px;
                border-top: 1px solid rgba(255,255,255,0.3);
            }

            .main-nav {
                display: flex;
                gap: 5px;
                left: 50px;/* ajusta el valor para mover m√°s a la izquierda o derecha */
            }

            .nav-item {
                display: flex;
                align-items: center;
                gap: 8px;
                padding: 10px 20px;
                color: #2e7d32;
                text-decoration: none;
                border-radius: 6px;
                position: relative;
                background: transparent; /* quitar fondo */
                transition: all 0.3s ease;
            }

            /* L√≠nea inferior al pasar el mouse */
            .nav-item::after {
                content: '';
                position: absolute;
                bottom: 0;
                left: 10%;           /* margen izquierdo de la l√≠nea */
                width: 80%;          /* ancho de la l√≠nea */
                height: 2px;         /* grosor de la l√≠nea */
                background: linear-gradient(135deg, #2e7d32, #4caf50);
                transform: scaleX(0); /* inicialmente invisible */
                transition: transform 0.3s ease;
                transform-origin: center;
            }

            .nav-item:hover::after {
                transform: scaleX(1); /* l√≠nea aparece */
            }

            .user-actions {
                display: flex;        /* ya estaba flex */
                justify-content: flex-end;  /* esto los lleva a la derecha */
                gap: 10px; 
            }

            .btn {
                padding: 8px 16px;
                border: none;
                border-radius: 6px;
                cursor: pointer;
                font-weight: 500;
                text-decoration: none;
                display: inline-flex;
                align-items: center;
                gap: 6px;
                transition: all 0.3s ease;
                position: relative;
                left: -20px; /* mueve cada bot√≥n 20px hacia la izquierda */
            }

            .btn-primary {
                background: linear-gradient(135deg, #2e7d32, #4caf50); /* verde degradado */
                color: white;
            }


            .btn-accent {
                background: linear-gradient(135deg, #e74c3c, #fe5926); 
                color: white;
            }

            .btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            }

            /* Main Content Styles */
            .main-content {
                padding: 30px;
            }

            .titulo {
                background: white;
                padding: 25px 30px;
                margin-bottom: 25px;
                font-size: 1.5rem;
                color: #2c3e50;
                border-radius: 12px;
                box-shadow: 0 4px 15px rgba(0,0,0,0.1);
                border-left: 5px solid #2e7d32;
            }

            .titulo i {
                color: #2e7d32;
                margin-right: 10px;
            }

            /* Content Grid */
            .content {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 25px;
            }

            .content-section {
                background: white;
                border-radius: 12px;
                padding: 25px;
                box-shadow: 0 4px 15px rgba(0,0,0,0.1);
                transition: transform 0.3s ease;
                border-top: 4px solid #2e7d32;
            }

            .content-section:hover {
                transform: translateY(-5px);
            }

            .section-title {
                display: flex;
                align-items: center;
                gap: 12px;
                margin-bottom: 20px;
                color: #2c3e50;
                font-size: 1.2rem;
            }

            .stat-icon {
                color: #2e7d32;
                font-size: 1.4rem;
            }

            .stat-number {
                font-size: 3rem;
                font-weight: bold;
                color: #2e7d32;
                text-align: center;
                margin: 20px 0;
            }

            .stats-container {
                display: flex;
                flex-direction: column;
                gap: 15px;
            }

            .stat-item {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 12px;
                background: #f8f9fa;
                border-radius: 8px;
                border-left: 4px solid #2e7d32;
            }

            .stat-label {
                font-weight: 500;
                color: #2c3e50;
            }

            .stat-value {
                font-weight: bold;
                color: #2e7d32;
                font-size: 1.2rem;
            }

            .no-data {
                text-align: center;
                color: #7f8c8d;
                font-style: italic;
                padding: 20px;
            }

            .section-actions {
                margin-top: 20px;
                text-align: center;
            }

            .btn-details {
                display: inline-flex;
                align-items: center;
                gap: 8px;
                padding: 10px 20px;
                background: linear-gradient(135deg, #2e7d32, #4caf50); /* verde degradado */
                color: white;
                text-decoration: none;
                border-radius: 6px;
                font-weight: 500;
                transition: all 0.3s ease;
            }

            .btn-details:hover {
                background: #2e7d32;
                transform: translateY(-2px);
                box-shadow: 0 4px 12px rgba(39, 174, 96, 0.3);
            }

            .btn-details:disabled {
                background: #bdc3c7;
                cursor: not-allowed;
                transform: none;
                box-shadow: none;
            }

            /* Responsive */
            @media (max-width: 1024px) {
                .nav-container {
                    flex-direction: column;
                    gap: 15px;
                }
                
                .main-nav {
                    flex-wrap: wrap;
                    justify-content: center;
                }
            }

            @media (max-width: 768px) {
                .header {
                    padding: 15px;
                }
                
                .top-section {
                    flex-direction: column;
                    gap: 15px;
                    text-align: center;
                }
                
                .content {
                    grid-template-columns: 1fr;
                    padding: 15px;
                }
                
                .main-content {
                    padding: 15px;
                }
                
                .user-actions {
                    flex-wrap: wrap;
                    justify-content: flex-end; /* alineaci√≥n a la derecha */
                    gap: 10px; /* espacio entre botones */
                }
                
                .nav-item {
                    padding: 8px 12px;
                    font-size: 0.9rem;
                }
            }

            /* Main Content Styles */
.main-container {
    max-width: 1200px;
    margin: 30px auto;
    padding: 50px 50px;
    border: #000000;
    background: #ffffff;
    border-radius: 12px;
}

.page-title {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 25px;
    padding-bottom: 15px;
    border-bottom: 1px solid #e0e0e0;
}

.page-title i {
    font-size: 28px;
    color: #2e7d32;
}

.page-title h2 {
    font-size: 28px;
    font-weight: 700;
    color: #2e7d32;
}

/* Profile Card Styles */
.profile-card {
    background: white;
    border-radius: 12px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.05);
    overflow: hidden;
    margin-bottom: 30px;
    width: 900px;
}

.profile-header {
    background: linear-gradient(135deg, #2e7d32, #4caf50);
    color: white;
    padding: 25px;
    text-align: center;
}

.profile-avatar {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    background: white;
    margin: 0 auto 15px;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 4px solid white;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    border-color: rgb(54, 54, 54);
}

.profile-avatar i {
    font-size: 40px;
    color: #1fb65e;
}

.profile-name {
    font-size: 24px;
    font-weight: 600;
    margin-bottom: 5px;
}

.profile-role {
    font-size: 16px;
    opacity: 0.9;
}

.profile-body {
    padding: 25px;
}

.section-title {
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 20px;
    color: #2c3e50;
    display: flex;
    align-items: center;
    gap: 10px;
}

.section-title i {
    color: #27ae60;
}

.info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

.info-item {
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.info-label {
    font-size: 14px;
    color: #7f8c8d;
    font-weight: 500;
}

.info-value {
    font-size: 16px;
    font-weight: 500;
    color: #2c3e50;
    padding: 10px 15px;
    background: #f8f9fa;
    border-radius: 6px;
    border: 1px solid #e9ecef;
}

.info-input {
    font-size: 16px;
    padding: 10px 15px;
    border: 1px solid #3498db;
    border-radius: 6px;
    background: white;
    width: 100%;
}

.info-select {
    font-size: 16px;
    padding: 10px 15px;
    border: 1px solid #3498db;
    border-radius: 6px;
    background: white;
    width: 100%;
}

.info-date {
    font-size: 16px;
    padding: 10px 15px;
    border: 1px solid #3498db;
    border-radius: 6px;
    background: white;
    width: 100%;
}

.action-buttons {
    display: flex;
    gap: 15px;
    justify-content: flex-end;
    margin-top: 20px;
}

.btn-success {
   background: linear-gradient(135deg, #2e7d32, #4caf50);
    color: white;
}

.btn-secondary {
    background: linear-gradient(135deg, #2e7d32, #4caf50);
    color: white;
}

.btn-warning {
    background: #e74c3c;
    color: white;
}

/* Loading Spinner */
.loading-spinner {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 40px;
    flex-direction: column;
    gap: 20px;
}

.spinner {
    width: 40px;
    height: 40px;
    border: 4px solid rgba(0, 0, 0, 0.1);
    border-left-color: #27ae60;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

.login-prompt {
    text-align: center;
    padding: 40px;
}

.login-prompt h3 {
    color: #e74c3c;
    margin-bottom: 15px;
}

.debug-info {
    background: #f8f9fa;
    border: 1px solid #e9ecef;
    border-radius: 6px;
    padding: 15px;
    margin-top: 20px;
    font-family: monospace;
    font-size: 12px;
}

/* Desktop peque√±o (992px - 1199px) */
@media (max-width: 1199px) {
    .main-container {
        max-width: 960px;
        padding: 40px;
    }
    
    .profile-card {
        width: 100%;
    }
    
    .info-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* Tablet (768px - 991px) */
@media (max-width: 991px) {
    .header {
        padding: 15px 20px;
    }
    
    .header-row-1 {
        flex-direction: column;
        gap: 15px;
        align-items: stretch;
    }
    
    .logo {
        justify-content: center;
    }
    
    .main-nav {
        justify-content: center;
        flex-wrap: wrap;
        gap: 5px;
    }
    
    .nav-item {
        padding: 8px 15px;
        font-size: 14px;
    }
    
    .user-actions {
        justify-content: center;
    }
    
    .header-row-2 {
        flex-direction: column;
        gap: 15px;
        align-items: center;
    }
    
    .system-date {
        margin: 0;
        font-size: 14px;
        padding: 8px 15px;
    }
    
    .action-buttons-header {
        justify-content: center;
        flex-wrap: wrap;
        gap: 8px;
    }
    
    .btn {
        padding: 8px 12px;
        font-size: 14px;
    }
    
    .main-container {
        max-width: 95%;
        padding: 30px;
        margin: 20px auto;
    }
    
    .page-title h2 {
        font-size: 24px;
    }
    
    .profile-header {
        padding: 20px;
    }
    
    .profile-body {
        padding: 20px;
    }
    
    .info-grid {
        grid-template-columns: 1fr;
        gap: 15px;
    }
}

/* M√≥vil grande (576px - 767px) */
@media (max-width: 767px) {
    
    
    .main-container {
        padding: 20px 15px;
        margin: 15px auto;
    }
    
    .page-title {
        flex-direction: column;
        gap: 10px;
        text-align: center;
    }
    
    .page-title h2 {
        font-size: 22px;
    }
    
    .profile-card {
        margin-bottom: 20px;
    }
    
    .profile-header {
        padding: 15px;
    }
    
    .profile-avatar {
        width: 80px;
        height: 80px;
    }
    
    .profile-avatar i {
        font-size: 30px;
    }
    
    .profile-name {
        font-size: 20px;
    }
    
    .profile-role {
        font-size: 14px;
    }
    
    .profile-body {
        padding: 15px;
    }
    
    .section-title {
        font-size: 16px;
        margin-bottom: 15px;
    }
    
    .info-grid {
        gap: 12px;
    }
    
    .info-item {
        gap: 4px;
    }
    
    .info-label {
        font-size: 13px;
    }
    
    .info-value,
    .info-input,
    .info-select,
    .info-date {
        font-size: 14px;
        padding: 8px 12px;
    }
    
    .action-buttons {
        flex-direction: column;
        gap: 10px;
    }
    
    .action-buttons .btn {
        width: 100%;
        justify-content: center;
    }
    
    .loading-spinner {
        padding: 30px 20px;
    }
    
    .login-prompt {
        padding: 30px 20px;
    }
}

/* M√≥vil peque√±o (575px y menos) */
@media (max-width: 575px) {
    
    
    .main-container {
        padding: 15px 10px;
        margin: 10px auto;
        border-radius: 8px;
    }
    
    .page-title {
        margin-bottom: 20px;
        padding-bottom: 10px;
    }
    
    .page-title h2 {
        font-size: 20px;
    }
    
    .page-title i {
        font-size: 24px;
    }
    
    .profile-header {
        padding: 12px;
    }
    
    .profile-avatar {
        width: 70px;
        height: 70px;
        margin-bottom: 10px;
    }
    
    .profile-avatar i {
        font-size: 25px;
    }
    
    .profile-name {
        font-size: 18px;
    }
    
    .profile-role {
        font-size: 13px;
    }
    
    .profile-body {
        padding: 12px;
    }
    
    .section-title {
        font-size: 15px;
        margin-bottom: 12px;
    }
    
    .info-grid {
        gap: 10px;
        margin-bottom: 20px;
    }
    
    .info-value,
    .info-input,
    .info-select,
    .info-date {
        padding: 6px 10px;
        font-size: 13px;
    }
    
    .action-buttons {
        margin-top: 15px;
    }
    
    .spinner {
        width: 30px;
        height: 30px;
        border-width: 3px;
    }
    
    .loading-spinner p {
        font-size: 14px;
    }
}


    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
            <div class="top-section">
                <div class="logo">
                    <div class="logo-img">
                        <i class="fas fa-leaf"></i>
                    </div>
                    <h1>Heliconias Reports</h1>
                </div>
                    <!-- Navegaci√≥n horizontal -->
                <nav class="main-nav">
                    <a href="principal.html" class="nav-item active tooltip">
                        <i class="fas fa-home"></i>
                        <span>Inicio</span>
                    </a>
                    <a href="eventos.html" class="nav-item tooltip">
                        <i class="fas fa-calendar-alt"></i>
                        <span>Eventos</span>
                    </a>
                    <a href="actividad.html" class="nav-item tooltip">
                        <i class="fas fa-hiking"></i>
                        <span>Actividades</span>
                    </a>
                    <a href="reportes.html" class="nav-item tooltip">
                        <i class="fas fa-chart-line"></i>
                        <span>Reportes</span>
                    </a>
                    <a href="configuracion.html" class="nav-item tooltip">
                        <i class="fas fa-cog"></i>
                        <span>Configuraci√≥n</span>
                    </a>
                </nav>
            </div>
        </header>

        <div class="top-bar">
            <div class="system-date">
                <i class="fas fa-clock"></i>
                <span id="current-date-time">Cargando fecha y hora...</span>
            </div>

            <div class="user-actions">
                <a href="soporte.html" class="btn btn-primary tooltip">
                    <i class="fas fa-headset"></i> Soporte
                </a>

                <button class="btn btn-primary tooltip" id="help-btn">
                    <i class="fas fa-question-circle"></i> Ayuda
                </button>

                <button class="btn btn-accent tooltip" id="logout-btn">
                    <i class="fas fa-sign-out-alt"></i> Salir
                </button>
            </div>
        </div>

    <!-- Main Content -->
    <div class="main-container">
        <div class="page-title">
            <i class="fas fa-cog"></i>
            <h2>Configuraci√≥n del Perfil</h2>
        </div>

        <div class="profile-card">
            <div class="profile-header">
                <div class="profile-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <h2 class="profile-name" id="profile-name">Cargando...</h2>
                <p class="profile-role" id="profile-role">Cargando rol...</p>
            </div>

            <div class="profile-body">
                <div class="section-title">
                    <i class="fas fa-info-circle"></i>
                    <span>Informaci√≥n Personal</span>
                </div>

                <div id="loading-section" class="loading-spinner">
                    <div class="spinner"></div>
                    <p>Cargando informaci√≥n del usuario...</p>
                </div>

                <div id="profile-info" style="display: none;">
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="info-label">Nombre</span>
                            <div class="info-value" id="info-nombre">Cargando...</div>
                            <input type="text" class="info-input" id="edit-nombre" style="display: none;">
                        </div>
                        <div class="info-item">
                            <span class="info-label">Apellido</span>
                            <div class="info-value" id="info-apellido">Cargando...</div>
                            <input type="text" class="info-input" id="edit-apellido" style="display: none;">
                        </div>
                        <div class="info-item">
                            <span class="info-label">Correo Electr√≥nico</span>
                            <div class="info-value" id="info-correo">Cargando...</div>
                            <input type="email" class="info-input" id="edit-correo" style="display: none;">
                        </div>
                        <div class="info-item">
                            <span class="info-label">Documento</span>
                            <div class="info-value" id="info-documento">Cargando...</div>
                            <input type="text" class="info-input" id="edit-documento" style="display: none;">
                        </div>
                        <div class="info-item">
                            <span class="info-label">Tel√©fono</span>
                            <div class="info-value" id="info-telefono">Cargando...</div>
                            <input type="tel" class="info-input" id="edit-telefono" style="display: none;">
                        </div>
                        <div class="info-item">
                            <span class="info-label">G√©nero</span>
                            <div class="info-value" id="info-genero">Cargando...</div>
                            <select class="info-select" id="edit-genero" style="display: none;">
                                <option value="">Seleccionar g√©nero</option>
                                <option value="1">Hombre</option>
                                <option value="2">Mujer</option>
                                <option value="3">Otro</option>
                            </select>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Instituci√≥n</span>
                            <div class="info-value" id="info-institucion">Cargando...</div>
                            <select class="info-select" id="edit-institucion" style="display: none;">
                                <option value="">Cargando instituciones...</option>
                            </select>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Fecha de Nacimiento</span>
                            <div class="info-value" id="info-fecha-nacimiento">Cargando...</div>
                            <input type="date" class="info-date" id="edit-fecha-nacimiento" style="display: none;">
                        </div>
                    </div>

                    <div class="section-title">
                        <i class="fas fa-user-shield"></i>
                        <span>Informaci√≥n de Acceso</span>
                    </div>

                    <div class="info-grid">
                        <div class="info-item">
                            <span class="info-label">ID de Usuario</span>
                            <div class="info-value" id="info-id-usuario">Cargando...</div>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Rol</span>
                            <div class="info-value" id="info-rol">Cargando...</div>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Fecha de Creaci√≥n</span>
                            <div class="info-value" id="info-fecha-creacion">Cargando...</div>
                        </div>
                        <div class="info-item">
                            <span class="info-label">√öltimo Login</span>
                            <div class="info-value" id="info-ultimo-login">Cargando...</div>
                        </div>
                    </div>

                    <div class="action-buttons">
                        <button class="btn btn-secondary" id="edit-profile-btn">
                            <i class="fas fa-edit"></i> Editar Perfil
                        </button>
                        <button class="btn btn-warning" id="cancel-edit-btn" style="display: none;">
                            <i class="fas fa-times"></i> Cancelar
                        </button>
                        <button class="btn btn-success" id="save-changes-btn" style="display: none;">
                            <i class="fas fa-save"></i> Guardar Cambios
                        </button>
                    </div>
                </div>

                <!-- Mensaje cuando no hay internet -->
                <div id="no-internet-prompt" class="login-prompt" style="display: none;">
                    <h3><i class="fas fa-wifi-slash"></i> Comprueba tu conexi√≥n a internet</h3>
                    <p>No se puede cargar la informaci√≥n del perfil. Verifica tu conexi√≥n a internet.</p>
                    <div style="display: flex; gap: 10px; justify-content: center; margin-top: 15px;">
                        <button class="btn btn-primary" id="retry-connection-btn">
                            <i class="fas fa-sync-alt"></i> Reintentar
                        </button>
                    </div>
                </div>

                <!-- Mensaje cuando no hay sesi√≥n iniciada -->
                <div id="login-prompt" class="login-prompt" style="display: none;">
                    <h3><i class="fas fa-exclamation-triangle"></i> Sesi√≥n no iniciada</h3>
                    <p>Debe iniciar sesi√≥n para ver su informaci√≥n de perfil.</p>
                    <div style="display: flex; gap: 10px; justify-content: center; margin-top: 15px;">
                        <button class="btn btn-success" id="login-redirect-btn">
                            <i class="fas fa-sign-in-alt"></i> Ir a Iniciar Sesi√≥n
                        </button>
                        <button class="btn btn-primary" id="refresh-session-btn">
                            <i class="fas fa-sync-alt"></i> Reintentar
                        </button>
                    </div>
                </div>

                <!-- Debug info -->
                <div id="debug-info" class="debug-info" style="display: none;">
                    <h4>Informaci√≥n de Depuraci√≥n:</h4>
                    <div id="debug-content"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Incluir Supabase JS -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
       // Inicializar Supabase
const supabaseUrl = 'https://umncnddwzmjxgmvisvqz.supabase.co';
const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVtbmNuZGR3em1qeGdtdmlzdnF6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI1NDIyNzksImV4cCI6MjA3ODExODI3OX0.ODvus28cTCTD8gGewQ2sAZ8PcXbEe4CIy_zv6bip8J0';
const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);

let currentUserData = null;
let isEditing = false;

// Funci√≥n para verificar si hay conexi√≥n a internet
function checkInternetConnection() {
    return navigator.onLine;
}

// Funci√≥n para actualizar fecha y hora
function updateDateTime() {
    const now = new Date();
    const dateTimeString = now.toLocaleString("es-ES", {
        weekday: "long",
        year: "numeric",
        month: "long",
        day: "numeric",
        hour: "2-digit",
        minute: "2-digit",
        second: "2-digit",
        hour12: true,
    });

    const dateTimeElement = document.getElementById("current-date-time");
    if (dateTimeElement) {
        dateTimeElement.textContent = dateTimeString;
    }
}

// Funci√≥n para capitalizar nombres (primera letra may√∫scula, resto min√∫scula)
function capitalizeName(text) {
    if (!text) return '';
    return text.charAt(0).toUpperCase() + text.slice(1).toLowerCase();
}

// Funci√≥n para validar solo n√∫meros
function validateNumbersOnly(input) {
    return /^\d+$/.test(input);
}

// Funci√≥n para validar tel√©fono (solo n√∫meros, m√≠nimo 7 d√≠gitos)
function validatePhone(phone) {
    return /^\d{7,15}$/.test(phone);
}

// Funci√≥n para validar documento (solo n√∫meros, m√≠nimo 5 d√≠gitos)
function validateDocument(document) {
    return /^\d{5,20}$/.test(document);
}

// Funci√≥n para cargar g√©neros desde la tabla
async function loadGeneros() {
    try {
        console.log('üöª Cargando g√©neros...');
        
        const { data: generos, error } = await supabase
            .from('genero')
            .select('id_genero, genero')
            .order('id_genero');
            
        if (error) {
            console.error('‚ùå Error al cargar g√©neros:', error);
            return [];
        }
        
        console.log('‚úÖ G√©neros cargados:', generos);
        return generos || [];
        
    } catch (error) {
        console.error('‚ùå Error al cargar g√©neros:', error);
        return [];
    }
}

// Funci√≥n para cargar instituciones
async function loadInstituciones() {
    try {
        console.log('üè´ Cargando instituciones...');
        
        const { data: instituciones, error } = await supabase
            .from('instituciones')
            .select('id_institucion, nombre_institucion')
            .order('nombre_institucion');
            
        if (error) {
            console.error('‚ùå Error al cargar instituciones:', error);
            return [];
        }
        
        console.log('‚úÖ Instituciones cargadas:', instituciones);
        return instituciones || [];
        
    } catch (error) {
        console.error('‚ùå Error al cargar instituciones:', error);
        return [];
    }
}

// Funci√≥n para llenar el select de g√©neros
function populateGenerosSelect(generos, selectedId = null) {
    const selectElement = document.getElementById('edit-genero');
    
    if (!selectElement) {
        console.error('‚ùå No se encontr√≥ el elemento edit-genero');
        return;
    }
    
    // Limpiar opciones existentes
    selectElement.innerHTML = '<option value="">Seleccionar g√©nero</option>';
    
    // Agregar opciones
    generos.forEach(genero => {
        const option = document.createElement('option');
        option.value = genero.id_genero;
        option.textContent = genero.genero;
        
        // Seleccionar el g√©nero actual del usuario
        if (selectedId && genero.id_genero === selectedId) {
            option.selected = true;
        }
        
        selectElement.appendChild(option);
    });
    
    console.log('‚úÖ Select de g√©neros actualizado');
}

// Funci√≥n para llenar el select de instituciones
function populateInstitucionesSelect(instituciones, selectedId = null) {
    const selectElement = document.getElementById('edit-institucion');
    
    if (!selectElement) {
        console.error('‚ùå No se encontr√≥ el elemento edit-institucion');
        return;
    }
    
    // Limpiar opciones existentes
    selectElement.innerHTML = '<option value="">Seleccionar instituci√≥n</option>';
    
    // Agregar opciones
    instituciones.forEach(institucion => {
        const option = document.createElement('option');
        option.value = institucion.id_institucion;
        option.textContent = institucion.nombre_institucion;
        
        // Seleccionar la instituci√≥n actual del usuario
        if (selectedId && institucion.id_institucion === selectedId) {
            option.selected = true;
        }
        
        selectElement.appendChild(option);
    });
    
    console.log('‚úÖ Select de instituciones actualizado');
}

// Funci√≥n para cargar datos relacionados por separado
async function loadRelatedDataSeparately() {
    try {
        console.log('üîÑ Cargando datos relacionados por separado...');
        
        // Cargar g√©nero
        if (currentUserData.id_genero) {
            const { data: generoData, error: generoError } = await supabase
                .from('genero')
                .select('id_genero, genero')
                .eq('id_genero', currentUserData.id_genero)
                .single();
                
            if (!generoError && generoData) {
                currentUserData.genero = generoData;
            }
        }
        
        // Cargar instituci√≥n
        if (currentUserData.id_instituciones) {
            const { data: institucionData, error: institucionError } = await supabase
                .from('instituciones')
                .select('id_institucion, nombre_institucion')
                .eq('id_institucion', currentUserData.id_instituciones)
                .single();
                
            if (!institucionError && institucionData) {
                currentUserData.instituciones = institucionData;
            }
        }
        
        // Cargar rol
        if (currentUserData.id_rol) {
            const { data: rolData, error: rolError } = await supabase
                .from('roles')
                .select('*')
                .eq('id_rol', currentUserData.id_rol)
                .single();
                
            if (!rolError && rolData) {
                currentUserData.roles = rolData;
            }
        }
        
        console.log('‚úÖ Datos relacionados cargados:', {
            genero: currentUserData.genero,
            instituciones: currentUserData.instituciones,
            roles: currentUserData.roles
        });
        
    } catch (error) {
        console.error('‚ùå Error al cargar datos relacionados:', error);
    }
}

// Funci√≥n para guardar cambios
async function saveChanges() {
    try {
        const confirmResult = await Swal.fire({
            title: '¬øGuardar cambios?',
            text: '¬øEst√° seguro de que desea guardar los cambios realizados?',
            icon: 'question',
            showCancelButton: true,
            confirmButtonColor: '#27ae60',
            cancelButtonColor: '#e74c3c',
            confirmButtonText: 'S√≠, guardar',
            cancelButtonText: 'Cancelar'
        });

        if (!confirmResult.isConfirmed) {
            return;
        }

        // Recoger datos del formulario con validaciones
        const nombre = capitalizeName(document.getElementById('edit-nombre').value.trim());
        const apellido = capitalizeName(document.getElementById('edit-apellido').value.trim());
        const correo = document.getElementById('edit-correo').value.trim();
        const documento = document.getElementById('edit-documento').value.trim();
        const telefono = document.getElementById('edit-telefono').value.trim();
        const fecha_nacimiento = document.getElementById('edit-fecha-nacimiento').value;
        const id_genero = document.getElementById('edit-genero').value || null;
        const id_instituciones = document.getElementById('edit-institucion').value || null;

        // Validaciones
        if (!nombre || !apellido || !correo) {
            throw new Error('Los campos nombre, apellido y correo son obligatorios');
        }

        // Validar formato de email
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(correo)) {
            throw new Error('El formato del correo electr√≥nico no es v√°lido');
        }

        // Validar tel√©fono (solo n√∫meros, 7-15 d√≠gitos)
        if (telefono && !validatePhone(telefono)) {
            throw new Error('El tel√©fono debe contener solo n√∫meros (7-15 d√≠gitos)');
        }

        // Validar documento (solo n√∫meros, 5-20 d√≠gitos)
        if (documento && !validateDocument(documento)) {
            throw new Error('El documento debe contener solo n√∫meros (5-20 d√≠gitos)');
        }

        const updatedData = {
            nombre,
            apellido,
            correo,
            documento,
            telefono,
            fecha_nacimiento,
            id_genero,
            id_instituciones
        };

        console.log('üì§ Datos a actualizar:', updatedData);
        console.log('üÜî ID del usuario:', currentUserData.id_usuario);

        // Mostrar indicador de carga
        Swal.fire({
            title: 'Guardando cambios...',
            text: 'Por favor espere',
            allowOutsideClick: false,
            didOpen: () => {
                Swal.showLoading();
            }
        });

        // Actualizar en Supabase
        const { data, error } = await supabase
            .from('usuarios')
            .update(updatedData)
            .eq('id_usuario', currentUserData.id_usuario)
            .select();

        console.log('üì• Respuesta de Supabase:', { data, error });

        if (error) {
            throw error;
        }

        // Cerrar el loader
        Swal.close();

        // Actualizar datos locales
        if (data && data[0]) {
            currentUserData = { ...currentUserData, ...data[0] };
            // Recargar datos relacionados
            await loadRelatedDataSeparately();
        }
        
        // Salir del modo edici√≥n
        toggleEditMode(false);
        
        // Actualizar la interfaz
        updateProfileDisplay();

        await Swal.fire({
            title: '¬°√âxito!',
            text: 'Los cambios se han guardado correctamente.',
            icon: 'success',
            confirmButtonText: 'Aceptar'
        });

    } catch (error) {
        console.error('üí• Error completo al guardar cambios:', error);
        
        // Cerrar el loader si est√° abierto
        Swal.close();
        
        let errorMessage = 'No se pudieron guardar los cambios. Intente nuevamente.';
        
        if (error.message.includes('obligatorios') || 
            error.message.includes('formato del correo') ||
            error.message.includes('tel√©fono') ||
            error.message.includes('documento')) {
            errorMessage = error.message;
        } else if (error.message.includes('network') || !navigator.onLine) {
            errorMessage = 'Error de conexi√≥n. Verifique su internet e intente nuevamente.';
        } else if (error.message.includes('duplicate') || error.message.includes('unique') || error.code === '23505') {
            errorMessage = 'El correo electr√≥nico ya est√° en uso por otro usuario.';
        }
        
        await Swal.fire({
            title: 'Error',
            text: errorMessage,
            icon: 'error',
            confirmButtonText: 'Entendido'
        });
    }
}

// Funci√≥n para cargar perfil de usuario
async function loadUserProfile() {
    try {
        if (!checkInternetConnection()) {
            throw new Error('NO_INTERNET');
        }

        console.log('üöÄ Iniciando carga de perfil...');
        
        const { data: { session }, error: sessionError } = await supabase.auth.getSession();
        
        if (sessionError) {
            throw sessionError;
        }

        if (!session || !session.user) {
            throw new Error('NO_SESSION');
        }

        const authUser = session.user;
        console.log('‚úÖ Usuario autenticado con Supabase Auth:', authUser);

        // Consulta SIMPLE sin JOINS complejos
        const { data: userData, error: userError } = await supabase
            .from('usuarios')
            .select('*')
            .eq('correo', authUser.email)
            .single();

        if (userError) {
            throw userError;
        }

        if (!userData) {
            throw new Error('No se encontraron datos del usuario en la base de datos');
        }

        console.log('üìä Datos b√°sicos del usuario:', userData);
        
        // Guardar datos actuales
        currentUserData = userData;
        
        // Cargar datos relacionados por separado
        await loadRelatedDataSeparately();
        
        // Actualizar la interfaz
        updateProfileDisplay();

        // Ocultar spinner y mostrar informaci√≥n
        document.getElementById('loading-section').style.display = 'none';
        document.getElementById('profile-info').style.display = 'block';
        document.getElementById('login-prompt').style.display = 'none';
        document.getElementById('no-internet-prompt').style.display = 'none';
        
    } catch (error) {
        console.error('‚ùå Error al cargar el perfil:', error);
        
        document.getElementById('loading-section').style.display = 'none';
        document.getElementById('profile-info').style.display = 'none';
        
        if (error.message === 'NO_INTERNET') {
            document.getElementById('no-internet-prompt').style.display = 'block';
        } else if (error.message === 'NO_SESSION') {
            document.getElementById('login-prompt').style.display = 'block';
        } else {
            document.getElementById('no-internet-prompt').style.display = 'block';
        }
    }
}

// Actualizar la funci√≥n updateProfileDisplay
function updateProfileDisplay() {
    if (!currentUserData) return;

    document.getElementById('profile-name').textContent = 
        `${currentUserData.nombre || ''} ${currentUserData.apellido || ''}`.trim() || 'Usuario';
    
    // Mostrar rol desde la relaci√≥n
    const rolNombre = currentUserData.roles?.nombre_rol || getRoleName(currentUserData.id_rol);
    document.getElementById('profile-role').textContent = rolNombre;
    
    // Informaci√≥n personal
    document.getElementById('info-nombre').textContent = currentUserData.nombre || 'No especificado';
    document.getElementById('info-apellido').textContent = currentUserData.apellido || 'No especificado';
    document.getElementById('info-correo').textContent = currentUserData.correo || 'No especificado';
    document.getElementById('info-documento').textContent = currentUserData.documento || 'No especificado';
    document.getElementById('info-telefono').textContent = currentUserData.telefono || 'No especificado';
    
    // Mostrar g√©nero desde la relaci√≥n
    const generoNombre = currentUserData.genero?.genero || 'No especificado';
    document.getElementById('info-genero').textContent = generoNombre;
    
    // Mostrar instituci√≥n desde la relaci√≥n
    const institucionNombre = currentUserData.instituciones?.nombre_institucion || 'No especificado';
    document.getElementById('info-institucion').textContent = institucionNombre;
    
    document.getElementById('info-fecha-nacimiento').textContent = 
        currentUserData.fecha_nacimiento ? new Date(currentUserData.fecha_nacimiento).toLocaleDateString('es-ES') : 'No especificado';
    
    // Informaci√≥n de acceso
    document.getElementById('info-id-usuario').textContent = currentUserData.id_usuario || 'No especificado';
    document.getElementById('info-rol').textContent = rolNombre;
    document.getElementById('info-fecha-creacion').textContent = 
        currentUserData.fecha_creacion ? new Date(currentUserData.fecha_creacion).toLocaleDateString('es-ES') : 'No especificado';
    document.getElementById('info-ultimo-login').textContent = 
        currentUserData.ultimo_login ? new Date(currentUserData.ultimo_login).toLocaleDateString('es-ES') : 'No especificado';
}

// Actualizar toggleEditMode para incluir g√©nero e instituci√≥n
async function toggleEditMode(editing) {
    isEditing = editing;
    
    if (editing) {
        // Cargar g√©neros e instituciones cuando se active el modo edici√≥n
        const [generos, instituciones] = await Promise.all([
            loadGeneros(),
            loadInstituciones()
        ]);
        
        const generoActualId = currentUserData.id_genero;
        const institucionActualId = currentUserData.id_instituciones;
        
        populateGenerosSelect(generos, generoActualId);
        populateInstitucionesSelect(instituciones, institucionActualId);

        // Agregar event listeners para validaci√≥n en tiempo real
        setupRealTimeValidation();
    }
    
    // Campos editables directos
    const editableFields = ['nombre', 'apellido', 'correo', 'documento', 'telefono', 'fecha-nacimiento'];
    
    editableFields.forEach(field => {
        const displayElement = document.getElementById(`info-${field}`);
        const inputElement = document.getElementById(`edit-${field}`);
        
        if (displayElement && inputElement) {
            displayElement.style.display = editing ? 'none' : 'block';
            inputElement.style.display = editing ? 'block' : 'none';
            
            if (editing) {
                // Para fecha-nacimiento, necesitamos formatear la fecha
                if (field === 'fecha-nacimiento') {
                    const fecha = currentUserData.fecha_nacimiento;
                    inputElement.value = fecha ? new Date(fecha).toISOString().split('T')[0] : '';
                } else {
                    const fieldName = field.replace('-', '_');
                    inputElement.value = currentUserData[fieldName] || '';
                }
            }
        }
    });
    
    // Manejar g√©nero (campo de relaci√≥n)
    const generoDisplay = document.getElementById('info-genero');
    const generoSelect = document.getElementById('edit-genero');
    
    if (generoDisplay && generoSelect) {
        generoDisplay.style.display = editing ? 'none' : 'block';
        generoSelect.style.display = editing ? 'block' : 'none';
    }
    
    // Manejar instituci√≥n (campo de relaci√≥n)
    const institucionDisplay = document.getElementById('info-institucion');
    const institucionSelect = document.getElementById('edit-institucion');
    
    if (institucionDisplay && institucionSelect) {
        institucionDisplay.style.display = editing ? 'none' : 'block';
        institucionSelect.style.display = editing ? 'block' : 'none';
    }
    
    // El rol siempre se muestra como informaci√≥n
    document.getElementById('info-rol').style.display = 'block';
    
    // Mostrar/ocultar botones
    document.getElementById('edit-profile-btn').style.display = editing ? 'none' : 'inline-flex';
    document.getElementById('cancel-edit-btn').style.display = editing ? 'inline-flex' : 'none';
    document.getElementById('save-changes-btn').style.display = editing ? 'inline-flex' : 'none';
}

// Funci√≥n para configurar validaci√≥n en tiempo real
function setupRealTimeValidation() {
    // Validar tel√©fono (solo n√∫meros)
    const telefonoInput = document.getElementById('edit-telefono');
    if (telefonoInput) {
        telefonoInput.addEventListener('input', function(e) {
            // Remover caracteres no num√©ricos
            e.target.value = e.target.value.replace(/[^\d]/g, '');
        });
    }

    // Validar documento (solo n√∫meros)
    const documentoInput = document.getElementById('edit-documento');
    if (documentoInput) {
        documentoInput.addEventListener('input', function(e) {
            // Remover caracteres no num√©ricos
            e.target.value = e.target.value.replace(/[^\d]/g, '');
        });
    }

    // Capitalizar autom√°ticamente nombre y apellido
    const nombreInput = document.getElementById('edit-nombre');
    if (nombreInput) {
        nombreInput.addEventListener('blur', function(e) {
            e.target.value = capitalizeName(e.target.value);
        });
    }

    const apellidoInput = document.getElementById('edit-apellido');
    if (apellidoInput) {
        apellidoInput.addEventListener('blur', function(e) {
            e.target.value = capitalizeName(e.target.value);
        });
    }
}

// Funci√≥n auxiliar para obtener el nombre del rol
function getRoleName(roleId) {
    const roles = {
        1: 'Administrador de Eventos',
        2: 'Administrador del Sistema'
    };
    return roles[roleId] || 'Usuario';
}

// Event Listeners
document.getElementById('logout-btn').addEventListener('click', function() {
    Swal.fire({
        title: '¬øCerrar sesi√≥n?',
        text: '¬øEst√° seguro de que desea salir del sistema?',
        icon: 'question',
        showCancelButton: true,
        confirmButtonColor: '#27ae60',
        cancelButtonColor: '#e74c3c',
        confirmButtonText: 'S√≠, salir',
        cancelButtonText: 'Cancelar'
    }).then((result) => {
        if (result.isConfirmed) {
            supabase.auth.signOut().then(() => {
                window.location.href = 'index.html';
            });
        }
    });
});

document.getElementById('edit-profile-btn').addEventListener('click', function() {
    toggleEditMode(true);
});

document.getElementById('cancel-edit-btn').addEventListener('click', function() {
    toggleEditMode(false);
});

document.getElementById('save-changes-btn').addEventListener('click', saveChanges);

document.getElementById('login-redirect-btn').addEventListener('click', function() {
    window.location.href = 'index.html';
});

document.getElementById('refresh-session-btn').addEventListener('click', function() {
    document.getElementById('loading-section').style.display = 'flex';
    document.getElementById('login-prompt').style.display = 'none';
    document.getElementById('profile-info').style.display = 'none';
    document.getElementById('no-internet-prompt').style.display = 'none';
    
    setTimeout(() => {
        loadUserProfile();
    }, 1000);
});

// Bot√≥n para reintentar cuando no hay internet
document.getElementById('retry-connection-btn').addEventListener('click', function() {
    document.getElementById('loading-section').style.display = 'flex';
    document.getElementById('login-prompt').style.display = 'none';
    document.getElementById('profile-info').style.display = 'none';
    document.getElementById('no-internet-prompt').style.display = 'none';
    
    setTimeout(() => {
        loadUserProfile();
    }, 1000);
});

document.getElementById('help-btn').addEventListener('click', function() {
    Swal.fire({
        title: '<div style="display: flex; align-items: center; gap: 10px; color: #2c3e50;"><i class="fas fa-cog" style="color: #27ae60; font-size: 1.5rem;"></i><span>Configuraci√≥n del Perfil - Ayuda</span></div>',
        html: `
            <div style="text-align: left;">
                <div style="background: linear-gradient(135deg, #27ae60, #2ecc71); color: white; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                    <h4 style="margin: 0; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-user-cog"></i>
                        Gesti√≥n de tu Perfil Personal
                    </h4>
                </div>
                
                <div style="display: grid; gap: 15px; margin-bottom: 20px;">
                    <div style="display: flex; align-items: start; gap: 12px; padding: 12px; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #3498db;">
                        <i class="fas fa-eye" style="color: #3498db; font-size: 1.2rem; margin-top: 2px;"></i>
                        <div>
                            <strong style="color: #2c3e50;">Visualizaci√≥n de Informaci√≥n</strong>
                            <p style="margin: 5px 0 0 0; color: #7f8c8d; font-size: 0.9rem;">Puedes ver toda tu informaci√≥n personal, datos de contacto e informaci√≥n institucional en un formato organizado y f√°cil de leer.</p>
                        </div>
                    </div>
                    
                    <div style="display: flex; align-items: start; gap: 12px; padding: 12px; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #27ae60;">
                        <i class="fas fa-edit" style="color: #27ae60; font-size: 1.2rem; margin-top: 2px;"></i>
                        <div>
                            <strong style="color: #2c3e50;">Edici√≥n de Datos</strong>
                            <p style="margin: 5px 0 0 0; color: #7f8c8d; font-size: 0.9rem;">Haz clic en "Editar Perfil" para modificar tu informaci√≥n. Todos los campos son editables excepto el Rol del usuario.</p>
                        </div>
                    </div>
                    
                    <div style="display: flex; align-items: start; gap: 12px; padding: 12px; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #f39c12;">
                        <i class="fas fa-venus-mars" style="color: #f39c12; font-size: 1.2rem; margin-top: 2px;"></i>
                        <div>
                            <strong style="color: #2c3e50;">Campo de G√©nero</strong>
                            <p style="margin: 5px 0 0 0; color: #7f8c8d; font-size: 0.9rem;">Selecciona tu g√©nero desde el men√∫ desplegable con opciones: Hombre, Mujer u Otro.</p>
                        </div>
                    </div>
                    
                    <div style="display: flex; align-items: start; gap: 12px; padding: 12px; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #e74c3c;">
                        <i class="fas fa-calendar-alt" style="color: #e74c3c; font-size: 1.2rem; margin-top: 2px;"></i>
                        <div>
                            <strong style="color: #2c3e50;">Fecha de Nacimiento</strong>
                            <p style="margin: 5px 0 0 0; color: #7f8c8d; font-size: 0.9rem;">Utiliza el selector de fecha integrado para elegir tu fecha de nacimiento de forma r√°pida y precisa.</p>
                        </div>
                    </div>
                    
                    <div style="display: flex; align-items: start; gap: 12px; padding: 12px; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #9b59b6;">
                        <i class="fas fa-save" style="color: #9b59b6; font-size: 1.2rem; margin-top: 2px;"></i>
                        <div>
                            <strong style="color: #2c3e50;">Guardado Seguro</strong>
                            <p style="margin: 5px 0 0 0; color: #7f8c8d; font-size: 0.9rem;">Todos los cambios se guardan de forma segura en nuestra base de datos despu√©s de tu confirmaci√≥n.</p>
                        </div>
                    </div>
                </div>

                <div style="background: linear-gradient(135deg, #a29bfe, #74b9ff); padding: 15px; border-radius: 10px; border-left: 4px solid #6c5ce7;">
                    <h5 style="margin: 0 0 8px 0; color: white; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-shield-alt"></i>
                        Validaciones Autom√°ticas
                    </h5>
                    <div style="display: flex; flex-wrap: wrap; gap: 10px;">
                        <span style="background: rgba(255,255,255,0.9); padding: 6px 12px; border-radius: 20px; font-size: 0.8rem; color: #2d3436; display: flex; align-items: center; gap: 5px;">
                            <i class="fas fa-text-height" style="color: #27ae60;"></i>
                            Nombre/Apellido (May√∫scula)
                        </span>
                        <span style="background: rgba(255,255,255,0.9); padding: 6px 12px; border-radius: 20px; font-size: 0.8rem; color: #2d3436; display: flex; align-items: center; gap: 5px;">
                            <i class="fas fa-phone" style="color: #3498db;"></i>
                            Tel√©fono (Solo n√∫meros)
                        </span>
                        <span style="background: rgba(255,255,255,0.9); padding: 6px 12px; border-radius: 20px; font-size: 0.8rem; color: #2d3436; display: flex; align-items: center; gap: 5px;">
                            <i class="fas fa-id-card" style="color: #e74c3c;"></i>
                            Documento (Solo n√∫meros)
                        </span>
                        <span style="background: rgba(255,255,255,0.9); padding: 6px 12px; border-radius: 20px; font-size: 0.8rem; color: #2d3436; display: flex; align-items: center; gap: 5px;">
                            <i class="fas fa-envelope" style="color: #9b59b6;"></i>
                            Email (Formato v√°lido)
                        </span>
                    </div>
                </div>

                <div style="margin-top: 15px; padding: 12px; background: #fff3cd; border-radius: 8px; border-left: 4px solid #ffc107;">
                    <div style="display: flex; align-items: center; gap: 8px; color: #856404;">
                        <i class="fas fa-exclamation-triangle"></i>
                        <strong>Nota Importante</strong>
                    </div>
                    <p style="margin: 8px 0 0 0; color: #856404; font-size: 0.85rem;">
                        El campo <strong>Rol</strong> no es editable por seguridad del sistema. Para cambios en el rol, contacta al administrador.
                    </p>
                </div>
            </div>
        `,
        showCloseButton: true,
        confirmButtonColor: '#27ae60',
        confirmButtonText: '<i class="fas fa-check-circle"></i> Entendido',
        width: 650,
        background: '#ffffff',
        customClass: {
            popup: 'help-swal-popup',
            title: 'help-swal-title',
            htmlContainer: 'help-swal-html',
            confirmButton: 'help-swal-confirm-btn'
        },
        showClass: {
            popup: 'animate__animated animate__fadeInDown'
        },
        hideClass: {
            popup: 'animate__animated animate__fadeOutUp'
        }
    });
});

// Inicializar la p√°gina
document.addEventListener('DOMContentLoaded', function() {
    updateDateTime();
    setInterval(updateDateTime, 1000);
    
    // Cargar datos del usuario
    loadUserProfile();
});
    </script>
</body>
</html>